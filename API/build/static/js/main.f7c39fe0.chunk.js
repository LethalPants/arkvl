(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),i=a.n(o),l=a(14),c=a(27),s=a(60),u={SUCCESS_FETCH_RECOMMENDATIONS:"SUCCESS_FETCH_RECOMMENDATIONS",FAILURE_FETCH_RECOMMENDATIONS:"FAILURE_FETCH_RECOMMENDATIONS",REMOVE_RECOMMENDATION:"REMOVE_RECOMMENDATION"},m=[],d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SUCCESS_FETCH_RECOMMENDATIONS:return t.payload;case u.REMOVE_RECOMMENDATION:return e.filter((function(e){return e.id!==t.payload}));default:return e}},p=a(7),h={SUCCESS_LOGIN:"SUCCESS_LOGIN",ERROR_LOGIN:"ERROR_LOGIN",ERROR_REGISTER:"ERROR_REGISTER",SUCCESS_REGISTER:"SUCCESS_REGISTER",UNSET_ERROR:"UNSET_ERROR",NO_USER:"NO_USER"},g={isAuthenticated:void 0,error:null,userName:"",newUser:void 0},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.SUCCESS_REGISTER:return{error:null,isAuthenticated:!0,userName:t.payload,newUser:!0};case h.SUCCESS_LOGIN:return{error:null,isAuthenticated:!0,userName:t.payload};case h.ERROR_REGISTER:case h.ERROR_LOGIN:return{isAuthenticated:!1,error:t.payload};case h.NO_USER:return{isAuthenticated:!1};case h.UNSET_ERROR:return Object(p.a)(Object(p.a)({},e),{},{error:void 0});default:return e}},E={SUCCESS_FETCH_LIBRARY:"SUCCESS_FETCH_LIBRARY"},v=[],b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.SUCCESS_FETCH_LIBRARY:return t.payload;default:return e}},y=Object(c.c)({recommendations:d,user:f,library:b}),k=function(e,t){return"USER_LOGOUT"===t.type&&(e=void 0),y(e,t)},O=(a(79),[s.a]);var w=Object(c.d)(k,c.a.apply(void 0,O)),S=(a(80),a(12)),C=a(13),N=a(16),R=a(15),j=(a(81),a(17)),T=a(6),M=a(8),_=a(46),I=a.n(_),x=a(62),A=a(9),P=a.n(A),U=function(e){return{type:h.SUCCESS_LOGIN,payload:e}},B=function(e){return function(t){P.a.post("/api/login",{username:e.username,password:e.password},{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data),t(U(e.data.Username))})).catch((function(e){console.log(e.response),t(function(e){return{type:h.ERROR_LOGIN,payload:e}}(e.response.data?e.response.data.message||e.response.data.error:"Something went wrong"))}))}},L=function(e){return function(t){console.log(e),P.a.post("/api/register",{username:e.username,email:e.email,password:e.password}).then((function(e){var a;console.log(e.data),t((a=e.data.Username,{type:h.SUCCESS_REGISTER,payload:a}))})).catch((function(e){console.log(e.response),t(function(e){return{type:h.ERROR_REGISTER,payload:e}}(e.response.data?e.response.data.message||e.response.data.error:"Something went wrong"))}))}},V=a(25),G=a(26),D=a(31),H=(a(104),function(e){var t=e.label,a=Object(D.a)(e,["label"]);return r.a.createElement("div",{className:"input-div"},r.a.createElement("input",Object.assign({},a,{className:"form-input"})),t?r.a.createElement("label",{className:"form-label"},t):null)}),F=(a(105),function(e){var t=e.children,a=e.invert,n=e.onClick,o=e.small,i=e.type,l=e.style,c=e.link;return r.a.createElement("button",{className:"".concat(c?"link-button":"".concat(a?"custom-button":"custom-no-invert"," ").concat(o?"small":"")),style:l,type:i,onClick:n},t)}),z=(a(106),Object(l.b)(null,(function(e){return{submitUserDetails:function(t){return e(B(t))}}}))((function(e){var t=e.submitUserDetails,a=Object(n.useState)({username:"",password:""}),o=Object(G.a)(a,2),i=o[0],l=o[1],c=function(e){var t=e.target,a=t.name,n=t.value;l(Object(p.a)(Object(p.a)({},i),{},Object(V.a)({},a,n)))},s=function(e){e.preventDefault(),t(i)};return r.a.createElement("div",{className:"login-form-container"},r.a.createElement("div",{className:"login-form"},r.a.createElement("h1",null,"Log in to arkvl."),r.a.createElement("form",{onSubmit:s,method:"POST"},r.a.createElement(H,{name:"username",label:"Username",type:"text",required:!0,placeholder:" ",onChange:c}),r.a.createElement(H,{name:"password",label:"Password",type:"password",required:!0,placeholder:" ",onChange:c}),r.a.createElement(F,{type:"submit",onClick:s},"Login"),r.a.createElement("div",{className:"forgot-password"},r.a.createElement(M.a,{className:"forgotPasswordLink",to:"/forgot-password"},"Forgot Password?")))))}))),W=(a(107),Object(l.b)(null,(function(e){return{registerUserSubmit:function(t){return e(L(t))}}}))((function(e){var t=e.registerUserSubmit,a=Object(n.useState)({username:"",email:"",password:""}),o=Object(G.a)(a,2),i=o[0],l=o[1],c=function(e){var t=e.target,a=t.name,n=t.value;l(Object(p.a)(Object(p.a)({},i),{},Object(V.a)({},a,n)))},s=function(e){e.preventDefault(),t(i),console.log(i)};return console.log(i),r.a.createElement("div",{className:"register-form-container"},r.a.createElement("div",{className:"register-form"},r.a.createElement("h1",null,"Create your account!"),r.a.createElement("form",{onSubmit:function(e){return s(e)},method:"POST"},r.a.createElement(H,{name:"username",label:"Username",type:"text",placeholder:" ",onChange:c,value:i.username}),r.a.createElement(H,{name:"email",label:"Email",type:"email",placeholder:" ",onChange:c,value:i.email}),r.a.createElement(H,{name:"password",label:"Password",type:"password",placeholder:" ",onChange:c,value:i.password}),r.a.createElement(F,{type:"submit",onClick:s},"Register"))))})));a(108);var J=Object(l.b)((function(e){return{error:e.user.error}}),(function(e){return{removeError:function(){return e({type:h.UNSET_ERROR})}}}))((function(e){var t=e.error,a=e.removeError,o=e.pageVariants,i=e.pageTransition;return Object(n.useEffect)((function(){t&&j.c.error(t,{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,transition:j.a}),a()}),[t,a]),r.a.createElement(T.b.div,{initial:"initial",animate:"in",exit:"out",variants:o,transition:i,className:"login-register-container"},r.a.createElement(z,null),r.a.createElement(W,null))}));function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function K(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var q=r.a.createElement("g",null,r.a.createElement("rect",{fill:"none",height:24,width:24})),Z=r.a.createElement("g",null,r.a.createElement("g",null),r.a.createElement("g",null,r.a.createElement("path",{d:"M21,5c-1.11-0.35-2.33-0.5-3.5-0.5c-1.95,0-4.05,0.4-5.5,1.5c-1.45-1.1-3.55-1.5-5.5-1.5S2.45,4.9,1,6v14.65 c0,0.25,0.25,0.5,0.5,0.5c0.1,0,0.15-0.05,0.25-0.05C3.1,20.45,5.05,20,6.5,20c1.95,0,4.05,0.4,5.5,1.5c1.35-0.85,3.8-1.5,5.5-1.5 c1.65,0,3.35,0.3,4.75,1.05c0.1,0.05,0.15,0.05,0.25,0.05c0.25,0,0.5-0.25,0.5-0.5V6C22.4,5.55,21.75,5.25,21,5z M21,18.5 c-1.1-0.35-2.3-0.5-3.5-0.5c-1.7,0-4.15,0.65-5.5,1.5V8c1.35-0.85,3.8-1.5,5.5-1.5c1.2,0,2.4,0.15,3.5,0.5V18.5z"}),r.a.createElement("g",null,r.a.createElement("path",{d:"M17.5,10.5c0.88,0,1.73,0.09,2.5,0.26V9.24C19.21,9.09,18.36,9,17.5,9c-1.7,0-3.24,0.29-4.5,0.83v1.66 C14.13,10.85,15.7,10.5,17.5,10.5z"}),r.a.createElement("path",{d:"M13,12.49v1.66c1.13-0.64,2.7-0.99,4.5-0.99c0.88,0,1.73,0.09,2.5,0.26V11.9c-0.79-0.15-1.64-0.24-2.5-0.24 C15.8,11.66,14.26,11.96,13,12.49z"}),r.a.createElement("path",{d:"M17.5,14.33c-1.7,0-3.24,0.29-4.5,0.83v1.66c1.13-0.64,2.7-0.99,4.5-0.99c0.88,0,1.73,0.09,2.5,0.26v-1.52 C19.21,14.41,18.36,14.33,17.5,14.33z"})))),$=function(e){var t=e.svgRef,a=e.title,n=K(e,["svgRef","title"]);return r.a.createElement("svg",Y({enableBackground:"new 0 0 24 24",height:24,viewBox:"0 0 24 24",width:24,ref:t},n),a?r.a.createElement("title",null,a):null,q,Z)},Q=r.a.forwardRef((function(e,t){return r.a.createElement($,Y({svgRef:t},e))}));a.p;function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ee(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var te=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),ae=r.a.createElement("path",{d:"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),ne=function(e){var t=e.svgRef,a=e.title,n=ee(e,["svgRef","title"]);return r.a.createElement("svg",X({height:24,viewBox:"0 0 24 24",width:24,ref:t},n),a?r.a.createElement("title",null,a):null,te,ae)},re=r.a.forwardRef((function(e,t){return r.a.createElement(ne,X({svgRef:t},e))}));a.p;function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ie(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var le=r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),ce=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),se=function(e){var t=e.svgRef,a=e.title,n=ie(e,["svgRef","title"]);return r.a.createElement("svg",oe({width:24,height:24,viewBox:"0 0 24 24",ref:t},n),a?r.a.createElement("title",null,a):null,le,ce)},ue=r.a.forwardRef((function(e,t){return r.a.createElement(se,oe({svgRef:t},e))}));a.p;function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function de(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var pe=r.a.createElement("path",{d:"M55,27.5C55,12.337,42.663,0,27.5,0S0,12.337,0,27.5c0,8.009,3.444,15.228,8.926,20.258l-0.026,0.023l0.892,0.752 c0.058,0.049,0.121,0.089,0.179,0.137c0.474,0.393,0.965,0.766,1.465,1.127c0.162,0.117,0.324,0.234,0.489,0.348 c0.534,0.368,1.082,0.717,1.642,1.048c0.122,0.072,0.245,0.142,0.368,0.212c0.613,0.349,1.239,0.678,1.88,0.98 c0.047,0.022,0.095,0.042,0.142,0.064c2.089,0.971,4.319,1.684,6.651,2.105c0.061,0.011,0.122,0.022,0.184,0.033 c0.724,0.125,1.456,0.225,2.197,0.292c0.09,0.008,0.18,0.013,0.271,0.021C25.998,54.961,26.744,55,27.5,55 c0.749,0,1.488-0.039,2.222-0.098c0.093-0.008,0.186-0.013,0.279-0.021c0.735-0.067,1.461-0.164,2.178-0.287 c0.062-0.011,0.125-0.022,0.187-0.034c2.297-0.412,4.495-1.109,6.557-2.055c0.076-0.035,0.153-0.068,0.229-0.104 c0.617-0.29,1.22-0.603,1.811-0.936c0.147-0.083,0.293-0.167,0.439-0.253c0.538-0.317,1.067-0.648,1.581-1 c0.185-0.126,0.366-0.259,0.549-0.391c0.439-0.316,0.87-0.642,1.289-0.983c0.093-0.075,0.193-0.14,0.284-0.217l0.915-0.764 l-0.027-0.023C51.523,42.802,55,35.55,55,27.5z M2,27.5C2,13.439,13.439,2,27.5,2S53,13.439,53,27.5 c0,7.577-3.325,14.389-8.589,19.063c-0.294-0.203-0.59-0.385-0.893-0.537l-8.467-4.233c-0.76-0.38-1.232-1.144-1.232-1.993v-2.957 c0.196-0.242,0.403-0.516,0.617-0.817c1.096-1.548,1.975-3.27,2.616-5.123c1.267-0.602,2.085-1.864,2.085-3.289v-3.545 c0-0.867-0.318-1.708-0.887-2.369v-4.667c0.052-0.519,0.236-3.448-1.883-5.864C34.524,9.065,31.541,8,27.5,8 s-7.024,1.065-8.867,3.168c-2.119,2.416-1.935,5.345-1.883,5.864v4.667c-0.568,0.661-0.887,1.502-0.887,2.369v3.545 c0,1.101,0.494,2.128,1.34,2.821c0.81,3.173,2.477,5.575,3.093,6.389v2.894c0,0.816-0.445,1.566-1.162,1.958l-7.907,4.313 c-0.252,0.137-0.502,0.297-0.752,0.476C5.276,41.792,2,35.022,2,27.5z M42.459,48.132c-0.35,0.254-0.706,0.5-1.067,0.735 c-0.166,0.108-0.331,0.216-0.5,0.321c-0.472,0.292-0.952,0.57-1.442,0.83c-0.108,0.057-0.217,0.111-0.326,0.167 c-1.126,0.577-2.291,1.073-3.488,1.476c-0.042,0.014-0.084,0.029-0.127,0.043c-0.627,0.208-1.262,0.393-1.904,0.552 c-0.002,0-0.004,0.001-0.006,0.001c-0.648,0.16-1.304,0.293-1.964,0.402c-0.018,0.003-0.036,0.007-0.054,0.01 c-0.621,0.101-1.247,0.174-1.875,0.229c-0.111,0.01-0.222,0.017-0.334,0.025C28.751,52.97,28.127,53,27.5,53 c-0.634,0-1.266-0.031-1.895-0.078c-0.109-0.008-0.218-0.015-0.326-0.025c-0.634-0.056-1.265-0.131-1.89-0.233 c-0.028-0.005-0.056-0.01-0.084-0.015c-1.322-0.221-2.623-0.546-3.89-0.971c-0.039-0.013-0.079-0.027-0.118-0.04 c-0.629-0.214-1.251-0.451-1.862-0.713c-0.004-0.002-0.009-0.004-0.013-0.006c-0.578-0.249-1.145-0.525-1.705-0.816 c-0.073-0.038-0.147-0.074-0.219-0.113c-0.511-0.273-1.011-0.568-1.504-0.876c-0.146-0.092-0.291-0.185-0.435-0.279 c-0.454-0.297-0.902-0.606-1.338-0.933c-0.045-0.034-0.088-0.07-0.133-0.104c0.032-0.018,0.064-0.036,0.096-0.054l7.907-4.313 c1.36-0.742,2.205-2.165,2.205-3.714l-0.001-3.602l-0.23-0.278c-0.022-0.025-2.184-2.655-3.001-6.216l-0.091-0.396l-0.341-0.221 c-0.481-0.311-0.769-0.831-0.769-1.392v-3.545c0-0.465,0.197-0.898,0.557-1.223l0.33-0.298v-5.57l-0.009-0.131 c-0.003-0.024-0.298-2.429,1.396-4.36C21.583,10.837,24.061,10,27.5,10c3.426,0,5.896,0.83,7.346,2.466 c1.692,1.911,1.415,4.361,1.413,4.381l-0.009,5.701l0.33,0.298c0.359,0.324,0.557,0.758,0.557,1.223v3.545 c0,0.713-0.485,1.36-1.181,1.575l-0.497,0.153l-0.16,0.495c-0.59,1.833-1.43,3.526-2.496,5.032c-0.262,0.37-0.517,0.698-0.736,0.949 l-0.248,0.283V39.8c0,1.612,0.896,3.062,2.338,3.782l8.467,4.233c0.054,0.027,0.107,0.055,0.16,0.083 C42.677,47.979,42.567,48.054,42.459,48.132z"}),he=r.a.createElement("g",null),ge=r.a.createElement("g",null),fe=r.a.createElement("g",null),Ee=r.a.createElement("g",null),ve=r.a.createElement("g",null),be=r.a.createElement("g",null),ye=r.a.createElement("g",null),ke=r.a.createElement("g",null),Oe=r.a.createElement("g",null),we=r.a.createElement("g",null),Se=r.a.createElement("g",null),Ce=r.a.createElement("g",null),Ne=r.a.createElement("g",null),Re=r.a.createElement("g",null),je=r.a.createElement("g",null),Te=function(e){var t=e.svgRef,a=e.title,n=de(e,["svgRef","title"]);return r.a.createElement("svg",me({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 55 55",style:{enableBackground:"new 0 0 55 55"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,pe,he,ge,fe,Ee,ve,be,ye,ke,Oe,we,Se,Ce,Ne,Re,je)},Me=r.a.forwardRef((function(e,t){return r.a.createElement(Te,me({svgRef:t},e))})),_e=(a.p,a(109),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"logo"},r.a.createElement("h3",{className:"logo-link"},r.a.createElement(M.a,{to:"/",className:"link-text logo-text"},"Arkvl"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.a,{exact:!0,to:"/",getProps:function(e){return{className:e.isCurrent?"nav-link active":"nav-link"}}},r.a.createElement(Q,null),r.a.createElement("div",{className:"link-text"},"For you"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.a,{to:"/library",getProps:function(e){return{className:e.isCurrent?"nav-link active":"nav-link"}}},r.a.createElement(re,null),r.a.createElement("div",{className:"link-text"},"Library"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.a,{to:"/search",getProps:function(e){return{className:e.isCurrent?"nav-link active":"nav-link"}}},r.a.createElement(ue,null),r.a.createElement("div",{className:"link-text"},"Search"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link user-avatar"},r.a.createElement(M.a,{to:"/user-profile"},r.a.createElement(Me,null)))))))}),Ie=a(41),xe=(a(110),function(e){var t=e.imagesource,a=e.isCover,n=e.bookid;return r.a.createElement(r.a.Fragment,null,n?r.a.createElement(M.a,{to:"book-summary/".concat(n)}," ",r.a.createElement("img",{className:a?"cover-image":"book-image",src:t,alt:"book-cover"})):r.a.createElement("img",{className:a?"cover-image":"book-image",src:t,alt:"book-cover"}))}),Ae=a(42),Pe=(a(112),a(28)),Ue=a.n(Pe),Be=function(e){var t=e.booktitleis,a=e.bookauthoris,o=e.ratingChanged,i=e.bookid,l=e.rating,c=e.clearRating,s=Object(n.useState)(!1),u=Object(G.a)(s,2),m=u[0],d=u[1];return console.log(l),r.a.createElement("div",{className:"book-details"},r.a.createElement("div",{className:"book-card-details"},r.a.createElement("div",null,r.a.createElement("p",{className:"title"},t),r.a.createElement("p",{className:"author"},"by ",a)),r.a.createElement("div",{className:"book-rating"},void 0!==l||0===l?"Edit Rating":"Rate this book",r.a.createElement("div",{onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},style:{flexDirection:Ae.isMobile?"column":"row",width:!Ae.isMobile&&"16em"}},r.a.createElement(Ue.a,{count:5,size:25,color2:"var(--primary-color)",className:"ratingStars",onChange:o,half:!1,value:l}),Ae.isMobile?r.a.createElement("button",{className:"clear-rating-button",onClick:c,style:{alignSelf:"baseline",padding:0,marginTop:"3px"}},"Clear Rating"):m&&l>0&&r.a.createElement("button",{className:"clear-rating-button",onClick:c},"Clear Rating")))),r.a.createElement("span",{className:"read-now"},r.a.createElement(M.a,{to:"book-summary/".concat(i)},"Read Now")))},Le=a(18),Ve=a.n(Le),Ge=(a(113),function(e){var t=e.book,a=e.bookno,n=e.removeRated,o=e.removeOnClear,i=r.a.useState(t.rating||void 0),l=Object(G.a)(i,2),c=l[0],s=l[1];return r.a.createElement(T.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"book-card"},r.a.createElement(xe,{imagesource:t.image,bookid:a})||r.a.createElement(Ve.a,null),r.a.createElement(Be,{booktitleis:t.title,bookauthoris:t.author,ratingChanged:function(e){P.a.post("/api/new-rating",{rating:e,book_id:t.id}).then((function(a){s(e),n&&n(t.id)})).catch((function(e){console.log(e),j.c.error("Something went wrong. Please try again",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,transition:j.a})}))},bookid:a,rating:c,clearRating:function(){P.a.put("/api/new-rating",{rating:0,book_id:t.id}).then((function(e){s(0),o&&o(t.id)})).catch((function(e){console.log(e),j.c.error("Something went wrong. Please try again",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,transition:j.a})}))}}))}),De=(a(115),a(116),function(){return r.a.createElement(Le.SkeletonTheme,{color:"var(--bg-secondary)",highlightColor:"var(--highlight-color)"},r.a.createElement("div",{className:"encloseSkeleton"},r.a.createElement(Ve.a,{count:1,className:"skeletonimage"}),r.a.createElement("div",{className:"skeletontitle"},r.a.createElement(Ve.a,{count:1,height:18,width:118})),r.a.createElement("div",{className:"skeletonauthor"},r.a.createElement(Ve.a,{count:2,height:15,className:"skeletonauthors"}))))});function He(e){var t=e.BOOKS,a=e.removeRated,n=e.removeOnClear;return r.a.createElement("div",{className:"book-directory"},t&&t.length>0?r.a.createElement(T.a,null,t.map((function(e){return r.a.createElement(Ge,{book:e,bookno:e.id,removeRated:a,key:e.id,removeOnClear:n})}))):Object(Ie.a)(Array(20)).map((function(e,t){return r.a.createElement(De,{key:t})})))}a(117);var Fe=function(){return function(e){P.a.get("/api/recommend").then((function(t){console.log(t.data),e(function(e){return{type:u.SUCCESS_FETCH_RECOMMENDATIONS,payload:e.data.Recommendations}}(t))})).catch((function(t){console.log(t.response),e(function(e){return{type:u.FAILURE_FETCH_RECOMMENDATIONS,payload:e}}(t))}))}},ze=(a(118),{visible:{opacity:1},hidden:{opacity:0}}),We=function(e){var t=e.modalIsOpen,a=e.closeModal,n=e.verifymodal;return r.a.createElement(T.a,{exitBeforeEnter:!0},t&&r.a.createElement(T.b.div,{className:"backdrop",variants:ze,initial:"hidden",animate:"visible",exit:"hidden",transition:{ease:"easeOut",duration:.4}},r.a.createElement(T.b.div,{className:"modal",animate:{y:[-50,0]}},n?r.a.createElement("div",null,r.a.createElement("h2",{className:"modalHeading"},"Your Arkvl account has been successfully verified!")):r.a.createElement("div",null,r.a.createElement("h2",{className:"modalHeading"},"Welcome to Arkvl!"),r.a.createElement("p",{className:"modalPara"},"Rate your favourite books to get personalized recommendations!")),r.a.createElement(F,{style:{margin:"auto"},onClick:a,small:!0},"Okay"))))},Je=function(e){Object(N.a)(a,e);var t=Object(R.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).closeModal=function(){console.log("kanyewest"),n.setState({modalIsOpen:!1}),document.getElementById("blurhook").style.removeProperty("filter")},n.closeVerifyModal=function(){n.setState({verifyIsOpen:!1}),document.getElementById("blurhook").style.removeProperty("filter")},n.state={modalIsOpen:!1,verifyIsOpen:!1,token:n.props.token||!1},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.props.loadRecs&&0===this.props.loadRecs.length&&(console.log("Hello"),this.props.fetchedBooks(),this.props.newUser&&(this.setState({modalIsOpen:!0}),console.log("nigga do we have a problem?"),document.getElementById("blurhook").style.filter="blur(8px)"),this.state.token&&(this.setState({verifyIsOpen:!0}),document.getElementById("blurhook").style.filter="blur(8px)"))}},{key:"render",value:function(){return this.props.loadRecs&&this.props.loadRecs.length>0&&this.props.loadRecs.length<5&&this.props.fetchedBooks(),r.a.createElement(T.b.div,{initial:"initial",animate:"in",exit:"out",variants:this.props.pageVariants,transition:this.props.pageTransition,className:"recommended-books"},r.a.createElement(We,{modalIsOpen:this.state.modalIsOpen,closeModal:this.closeModal,verifymodal:!1}),this.state.token.length?r.a.createElement(We,{modalIsOpen:this.state.verifyIsOpen,closeModal:this.closeVerifyModal,verifymodal:!0}):null,r.a.createElement("div",{id:"blurhook"},r.a.createElement("div",{className:"page-header"},r.a.createElement("h1",null," For You")),r.a.createElement(He,{BOOKS:this.props.loadRecs,removeRated:this.props.removeRated})))}}]),a}(n.Component),Ye=Object(l.b)((function(e){return{loadRecs:e.recommendations,newUser:e.user.newUser}}),(function(e){return{fetchedBooks:function(){return e(Fe())},removeRated:function(t){return e(function(e){return{type:u.REMOVE_RECOMMENDATION,payload:e}}(t))}}}))(Je),Ke=a(137),qe=a(134),Ze=a(135),$e=a(138),Qe=a(136);a(119);Ke.a.use([qe.a,Ze.a]);var Xe=function(e){var t=e.books;return r.a.createElement(r.a.Fragment,null,t&&t.length>0?r.a.createElement(T.a,null,r.a.createElement($e.a,{spaceBetween:50,slidesPerView:5,keyboard:!0,preloadImages:!0,centeredSlides:!0,a11y:!0,loop:t.length>3,breakpoints:{100:{slidesPerView:1},320:{slidesPerView:2,spaceBetween:15},480:{slidesPerView:3,spaceBetween:30},640:{slidesPerView:3,spaceBetween:40},900:{slidesPerView:4,spaceBetween:40},1440:{slidesPerView:6,spaceBetween:40}},style:{cursor:"grab"}},t.map((function(e){return r.a.createElement(Qe.a,{key:e.id},r.a.createElement(Ge,{book:e,bookno:e.id}))})))):null)},et=function(){return function(e){P.a.get("/api/trending").then((function(t){var a;e((a=t.data.trending,{type:E.SUCCESS_FETCH_LIBRARY,payload:a}))})).catch((function(e){console.log(e)}))}},tt=(a(120),function(e){Object(N.a)(a,e);var t=Object(R.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),0===this.props.library.length&&this.props.fetchTrending()}},{key:"render",value:function(){var e=this.props.library;return r.a.createElement(T.b.div,{initial:"initial",animate:"in",exit:"out",variants:this.props.pageVariants,transition:this.props.pageTransition},r.a.createElement("div",{className:"page-header trending-books"},r.a.createElement("h1",null," Library ")),r.a.createElement("div",{className:"trending-books-container"},e&&e.length>0?e.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("h2",null,e.header),r.a.createElement(Xe,{books:e.books}))})):r.a.createElement("div",{className:"book-directory"},Object(Ie.a)(Array(20)).map((function(e,t){return r.a.createElement(De,{key:t})})))))}}]),a}(r.a.Component)),at=Object(l.b)((function(e){return{library:e.library}}),(function(e){return{fetchTrending:function(){return e(et())}}}))(tt);a(121);var nt=function(e){var t=e.booksRated,a=e.dateJoined,n=e.favGenres,o=e.username;return r.a.createElement("div",{className:"user-details"},r.a.createElement("div",null,r.a.createElement("div",{className:"user-name"},o?r.a.createElement("h1",null,o):null),r.a.createElement("div",{className:"user-details-container"},r.a.createElement("div",{className:"user-details-item"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Details "),r.a.createElement("span",null,"Joined on ",a)," "):null),r.a.createElement("div",{className:"user-details-item"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Books Rated "),r.a.createElement("span",null,t)):null),r.a.createElement("div",{className:"user-details-item"},n?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Favorite Genres"),r.a.createElement("span",null,n)):null))))},rt=(a(122),function(e){Object(N.a)(a,e);var t=Object(R.a)(a);function a(){var e;Object(S.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={booksRated:0,dateJoined:"",favGenres:"",ratedBooks:[],username:"",emailSent:!1,verified:void 0},e.handleLogout=function(){P.a.post("/api/logout").then((function(t){e.props.logout(),Object(M.e)("/")}))},e.handleClearRating=function(t){var a=e.state.ratedBooks;a=a.filter((function(e){return e.id!==t})),e.setState(Object(p.a)(Object(p.a)({},e.state),{},{ratedBooks:a}))},e.handleVerification=function(){console.log("entered handleverification"),P.a.get("/api/reverify"),console.log("email sent maybe?"),e.setState(Object(p.a)(Object(p.a)({},e.state),{},{emailSent:!0}))},e}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),P.a.get("/api/user-profile").then((function(t){return e.setState(t.data)}))}},{key:"render",value:function(){return console.log(this.state),r.a.createElement(T.b.div,{initial:"initial",animate:"in",exit:"out",variants:this.props.pageVariants,transition:this.props.pageTransition,className:"user-profile-page"},r.a.createElement("div",{className:"user-page-header"},r.a.createElement(nt,{booksRated:this.state.booksRated,dateJoined:this.state.dateJoined,favGenres:this.state.favGenres,username:this.state.username}),this.state.username?r.a.createElement(F,{onClick:this.handleLogout,small:!0},"Logout"):null,void 0===this.state.verified||!0===this.state.verified?null:r.a.createElement("div",null,this.state.emailSent?r.a.createElement("p",{style:{marginLeft:"10px"}},"We've sent you an email!"):r.a.createElement(F,{onClick:this.handleVerification,link:!0,style:{marginLeft:"10px"}},"Verify my account"))),r.a.createElement("div",{className:"user-favorites"},r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Books you rated"),this.state.ratedBooks.length>0?r.a.createElement(He,{BOOKS:this.state.ratedBooks,removeOnClear:this.handleClearRating}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alternateText"},r.a.createElement("p",{className:"userMessage"},"THE BOOKS YOU RATE WILL SHOW UP HERE"))))))}}]),a}(r.a.Component)),ot=Object(l.b)(null,(function(e){return{logout:function(){return e({type:"USER_LOGOUT"})}}}))(rt),it=(a(58),function(e){Object(N.a)(a,e);var t=Object(R.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"book-summary-container"},r.a.createElement("div",{className:"book-image-container"},r.a.createElement("div",{className:"skeletonImage"},r.a.createElement(Le.SkeletonTheme,{color:"var(--bg-secondary)",highlightColor:"var(--highlight-color)"},r.a.createElement(Ve.a,{height:450,width:320}))),r.a.createElement("div",null,r.a.createElement("div",{className:"skeletonRating"},r.a.createElement(Le.SkeletonTheme,{color:"var(--bg-secondary)",highlightColor:"var(--highlight-color)"},r.a.createElement(Ve.a,{height:30,width:220}))))),r.a.createElement("div",{className:"skeletonDetails"},r.a.createElement(Le.SkeletonTheme,{color:"var(--bg-secondary)",highlightColor:"var(--highlight-color)"},r.a.createElement(Ve.a,{count:1,height:40}),r.a.createElement("div",{className:"skeletonAuthor"},r.a.createElement(Ve.a,{count:1,height:20})),r.a.createElement("div",{className:"skeletonGenre"},r.a.createElement(Ve.a,{count:1,height:20})),r.a.createElement("div",{className:"skeletonAbout"},r.a.createElement(Ve.a,{count:10})))))}}]),a}(n.Component));var lt=function(e){var t=e.booktitleis,a=e.bookauthoris,n=(e.ratingChanged,e.bookid,e.amazonreadlink),o=e.bookgenreis,i=e.booksummary,l=e.avgRating;return e.isCover,e.rating,r.a.createElement("div",{className:"cover book-details"},r.a.createElement("div",{className:"book-card-details"},r.a.createElement("div",null,r.a.createElement("p",{className:"title"},t),r.a.createElement("p",{className:"author"},"by ",a))),r.a.createElement("p",{className:"paraGenre"},r.a.createElement("span",{className:"spanGenre"},"Genre")," -",r.a.createElement("span",{className:"genre"},o)),r.a.createElement("div",{className:"avg-rating-container"},r.a.createElement("span",{className:"rating"},"Average Rating"),r.a.createElement(Ue.a,{count:5,size:20,color2:"var(--primary-color)",className:"ratingStars",edit:!1,half:!1,value:l})),r.a.createElement("div",null,r.a.createElement("p",{className:"aboutBook"},"About this book - "),r.a.createElement("p",{className:"book-summary",dangerouslySetInnerHTML:{__html:i}})),r.a.createElement("span",{className:"book-link"},"Get a copy -",r.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},"Amazon")))},ct=function(e){Object(N.a)(a,e);var t=Object(R.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).ratingChanged=function(e){n.setState(Object(p.a)(Object(p.a)({},n.state),{},{rating:e})),P.a.post("/api/new-rating",{rating:e,book_id:n.state.book_id})},n.state={book_id:n.props.bookid,rating:0,imgSource:null,bookTitle:null,bookAuthor:null,bookGenre:null,bookDesc:null,avgRating:0,amazonLink:"",isShown:!1},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),P.a.post("/api/summary",{book_id:this.state.book_id}).then((function(t){console.log(t.data.Summary),e.setState({bookAuthor:t.data.Summary[0].author,imgSource:t.data.Summary[0].image_url,bookTitle:t.data.Summary[0].title,bookGenre:t.data.Summary[0].genres,bookDesc:t.data.Summary[0].description,avgRating:t.data.Summary[0].average_rating,rating:t.data.Summary[0].read_or_not,amazonLink:t.data.Summary[0].amazonLink})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(T.b.div,{initial:"initial",animate:"in",exit:"out",variants:this.props.pageVariants,transition:this.props.pageTransition},this.state.imgSource?r.a.createElement("div",{className:"book-summary-container"},r.a.createElement("div",{className:"book-image-container"},r.a.createElement("button",{onClick:function(){return e.props.history.goBack()},className:"go-back-button"}," ","Go back"," "),r.a.createElement(xe,{imagesource:this.state.imgSource,isCover:!0}),r.a.createElement("div",null,this.state&&0!==this.state.rating?r.a.createElement("div",{className:"rating-container",onMouseEnter:function(){return e.setState({isShown:!e.state.isShown})},onMouseLeave:function(){return e.setState({isShown:!e.state.isShown})}},r.a.createElement("span",{className:"rating"},"".concat(this.state.isShown?"Edit Rating":"You Rated")),r.a.createElement(Ue.a,{count:5,size:24,color2:"var(--primary-color)",className:"ratingStars",edit:!0,half:!1,value:this.state.rating,onChange:this.ratingChanged})):r.a.createElement("div",{className:"rating-container"},r.a.createElement("p",{className:"rating"},"Rate this book"),r.a.createElement(Ue.a,{count:5,size:24,color2:"var(--primary-color)",className:"ratingStars",onChange:this.ratingChanged,half:!1})))),r.a.createElement(lt,{booktitleis:this.state.bookTitle,bookauthoris:this.state.bookAuthor,bookgenreis:this.state.bookGenre,booksummary:this.state.bookDesc,avgRating:this.state.avgRating,amazonreadlink:this.state.amazonLink})):r.a.createElement(it,null))}}]),a}(n.Component),st=(a(123),function(e){Object(N.a)(a,e);var t=Object(R.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){return r.a.createElement(T.b.div,{initial:"initial",animate:"in",exit:"out",variants:this.props.pageVariants,transition:this.props.pageTransition,className:"errorContainer"},r.a.createElement("div",{className:"errorHeader"},r.a.createElement("h1",null,"404"),r.a.createElement("p",{className:"pageNotFoundStyle"},"PAGE NOT FOUND")),r.a.createElement("div",{className:"errorBody"},r.a.createElement("p",null,'"We should start back," Gared urged as the woods began to grow dark around them. "The website is dead."'),r.a.createElement("p",null,'"Do 404 pages frighten you?" Ser Waymar Royce asked with just the hint of a smile.'),r.a.createElement("p",null,"Gared did not rise to the bait. He knew they had to get to the south of The Wall before they were butchered.")),r.a.createElement("div",{className:"errorFooter"},r.a.createElement(M.a,{to:"/"},"Get back to safety.")))}}]),a}(n.Component)),ut=(a(124),function(){var e=['"Get busy living or get busy dying."<br/>\u2014 Stephen King, <i>The Shawshank Redemption<i/>','"It\u2019s only after we\u2019ve lost everything that we\u2019re free to do anything."<br/>\u2014 Chuck Palahniuk, <i>Fight Club<i/>','"Those who don\u2019t believe in magic will never find it."<br/>\u2014 Roald Dahl, <i>The Minpins<i/>','"Time you enjoy wasting is not wasted time."<br/>\u2014 Marthe Troly-Curtin, <i>Phrynette Mermaid<i/>','"And, now that you don\u2019t have to be perfect you can be good."<br/>\u2014 John Steinbeck, <i>East of Eden<i/>','"A friend may be waiting behind a stranger\u2019s face."<br/>\u2014 Maya Angelou, <i>Letter To My Daughter<i/>','"Even the darkest night will end and the sun will rise."<br/>\u2014 Victor Hugo, <i>Les Mis\xe9rables<i/>','"Each of us is more than the worst thing we\u2019ve ever done."<br/>\u2014 Bryan Stevenson, <i>Just Mercy<i/>','"There is some good in this world, and it\u2019s worth fighting for."<br/>\u2014 J.R.R. Tolkien, <i>The Two Towers<i/>','"Maybe ever\u2019body in the whole damn world is scared of each other."<br/>\u2014 John Steinbeck, <i>Of Mice And Men<i/>','"Terror made me cruel."<br/>\u2014 Emily Bront\xeb, <i>Wuthering Heights<i/>','"It sounds plausible enough tonight, but wait until tomorrow. Wait for the common sense of the morning."<br/>\u2014 H.G. Wells, <i>The Time Machine<i/>','"We need never be ashamed of our tears."<br/>\u2014 Charles Dickens, <i>Great Expectations<i/>','"Perhaps it was freedom itself that choked her."<br/>\u2014 Patricia Highsmith, <i>The Price Of Salt<i/>','"We both looked into the abyss; the only difference is you blinked."<br/>\u2014 Batman, <i>Crisis On Two Earths<i/>'],t=e[Math.floor(Math.random()*e.length)];return r.a.createElement("div",{className:"span"},r.a.createElement("div",null,r.a.createElement("div",{className:"coffee_cup"}),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t},className:"loader-text"})))}),mt=a(68),dt=a(4),pt=a(64),ht=a.n(pt),gt=a(67),ft=Object(gt.a)(),Et=function(e){var t=e.value,a=e.label,n=e.image,o=e.author;return r.a.createElement(M.a,{style:{textDecoration:"none"},to:"/book-summary/".concat(t)},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("img",{src:n,alt:"BookImage",width:"40px"}),r.a.createElement("div",{style:{marginLeft:"10px",color:"var(--primary-text)"}},a,r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:"0.8em",color:"var( --secondary-text)"}}," ",o," "))))},vt=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"15",fill:"var(--primary-text)"},r.a.createElement("path",{d:"M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z"}))},bt=function(e){return r.a.createElement(dt.z.DropdownIndicator,e,r.a.createElement(vt,null))},yt=function(e){Object(N.a)(a,e);var t=Object(R.a)(a);function a(){var e;Object(S.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:""},e.loadOptions=function(t,a){e.setState({inputValue:t}),P.a.get("/api/search/".concat(t)).then((function(e){console.log(e.data),a(e.data.searchResults.map((function(e){return{label:e.title,value:e.book_id,image:e.image_url,author:e.author}})))}))},e.wait=1e3,e.debouncedLoadOptions=ht.a.debounce(e.loadOptions,e.wait),e}return Object(C.a)(a,[{key:"render",value:function(){var e=this,t={menuList:this.props.large?function(t,a){return Object(p.a)(Object(p.a)({},t),{},{minHeight:0!==e.state.inputValue.length?"70vh":""})}:function(e){return Object(p.a)({},e)}};return r.a.createElement(mt.a,{components:{animatedComponents:ft,DropdownIndicator:bt},noOptionsMessage:function(){return 0!==e.state.inputValue.length?"No such books found":"Search for a book"},loadOptions:this.debouncedLoadOptions,placeholder:"Search",value:this.state.inputValue,formatOptionLabel:Et,width:"500px",theme:function(e){return Object(p.a)(Object(p.a)({},e),{},{borderRadius:0,colors:Object(p.a)(Object(p.a)({},e.colors),{},{primary25:"var(--primary-color)",primary:"var(--secondary-text)",neutral0:"var( --bg-primary)",neutral80:"var(--primary-text)",primary50:"var(--bg-secondary)",neutral10:"var(--light-gray)"})})},styles:t})}}]),a}(r.a.Component),kt=(a(126),function(e){var t=e.pageVariants,a=e.pageTransition;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),r.a.createElement(T.b.div,{initial:"initial",animate:"in",exit:"out",variants:t,transition:a,className:"search-page"},r.a.createElement("h1",null,"Search for your favorite books"),r.a.createElement(yt,{large:!0}))}),Ot=(a(127),a(65)),wt=a.n(Ot),St=a(66),Ct=a.n(St),Nt=function(e){Object(N.a)(a,e);var t=Object(R.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),P.a.post("/api/reset_password",{email:n.state.email}).then((function(e){console.log("here is the API response"),console.log(e),n.setState({lock:!0})})).catch((function(e){console.log("no cap"),console.log(e.response),j.c.error(e.response.data.error||"Something went wrong. Please try again",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,transition:j.a})}))},n.handleChange=function(e){n.setState({email:e.target.value})},n.state={lock:!1,email:""},n}return Object(C.a)(a,[{key:"render",value:function(){return r.a.createElement(T.b.div,{className:"forgot-password-container"},this.state.lock?r.a.createElement("img",{className:"lockUnlock",src:Ct.a,alt:"Lock"}):r.a.createElement("img",{className:"lockUnlock",src:wt.a,alt:"Unlock"}),this.state.lock?r.a.createElement("h2",null,"We've sent you a link to reset your password."):r.a.createElement("div",null,r.a.createElement("h1",{className:"forgotPasswordHeading"},"Forgot your password? No problem!"),r.a.createElement("p",null,"Enter your email ID and we'll send you a password reset link."),r.a.createElement(H,{name:"email",type:"email",placeholder:"Email",className:"inputEmailField",style:{display:"flex",width:"30vh",margin:"auto"},onChange:this.handleChange}),r.a.createElement(F,{className:"submitButton",type:"submit",onClick:this.handleSubmit,style:{display:"flex",width:"10%",margin:"auto",marginTop:"20px"}},"Submit")))}}]),a}(n.Component),Rt=(a(128),function(e){Object(N.a)(a,e);var t=Object(R.a)(a);function a(e){var n;return Object(S.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)(Object(p.a)({},n.state),{},Object(V.a)({},a,r)))},n.handleSubmit=function(e){e.preventDefault(),console.log(n.state),n.state.password===n.state.confirmPassword?P.a.post("/api/verifyreset",{token:n.state.token,password:n.state.password}).then((function(e){console.log("here is the API response from api/verifyreset"),console.log(e),Object(M.e)("/")})).catch((function(e){console.log(e),j.c.error(e.response.data.error||"Something went wrong",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,transition:j.a})})):j.c.error("Passwords don't match",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,transition:j.a})},n.state={password:"",confirmPassword:void 0,token:n.props.token},n}return Object(C.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"reset-password-page"},r.a.createElement("div",{className:"reset-password-container"},r.a.createElement("h2",{style:{marginBottom:"10px"}},"Enter your new password"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(H,{name:"password",type:"password",placeholder:" ",label:"New password",onChange:this.handleChange}),r.a.createElement(H,{name:"confirmPassword",type:"password",label:"Confirm password",placeholder:" ",onChange:this.handleChange}),r.a.createElement(F,{className:"submitButton",type:"submit",onClick:this.handleSubmit},"Reset password"))))}}]),a}(n.Component)),jt=Object(l.b)((function(e){return{isAuthenticated:e.user.isAuthenticated}}))((function(e){var t=e.as,a=e.isAuthenticated,n=e.pageVariants,o=e.pageTransition,i=Object(D.a)(e,["as","isAuthenticated","pageVariants","pageTransition"]);return a?r.a.createElement(t,Object.assign({pageTransition:o,pageVariants:n},i)):r.a.createElement(J,{pageTransition:o,pageVariants:n})})),Tt=Object(l.b)((function(e){return{isAuthenticated:e.user.isAuthenticated}}))((function(e){var t=e.as,a=e.isAuthenticated,n=(e.pageVariants,e.pageTransition,Object(D.a)(e,["as","isAuthenticated","pageVariants","pageTransition"]));return a?r.a.createElement(M.c,{to:"/",noThrow:!0}):r.a.createElement(t,n)})),Mt=function(e){Object(N.a)(a,e);var t=Object(R.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){var e=this.props.isAuthenticated;void 0===e&&setTimeout(this.props.checkUserLoggedIn,1e3);var t={initial:{opacity:0},in:{opacity:1},out:{opacity:0}},a={type:"tween",ease:"linear",duration:.2};return r.a.createElement("div",{className:"App"},r.a.createElement(j.b,null),void 0===e?r.a.createElement(ut,null):r.a.createElement(T.a,{exitBeforeEnter:!0},r.a.createElement(M.b,null,(function(e){var n=e.location;return r.a.createElement(M.d,{location:n,key:n.pathname},r.a.createElement(jt,{as:Ye,path:"/",pageVariants:t,pageTransition:a}),r.a.createElement(jt,{as:at,path:"library",pageVariants:t,pageTransition:a}),r.a.createElement(jt,{as:kt,path:"search",pageVariants:t,pageTransition:a}),r.a.createElement(jt,{as:J,path:"login",pageVariants:t,pageTransition:a}),r.a.createElement(jt,{as:ct,path:"book-summary/:bookid",pageVariants:t,pageTransition:a}),r.a.createElement(jt,{as:ot,path:"user-profile",pageVariants:t,pageTransition:a}),r.a.createElement(Tt,{as:Nt,path:"forgot-password",pageVariants:t,pageTransition:a}),r.a.createElement(Tt,{as:Rt,path:"change-password/:token",pageVariants:t,pageTransition:a}),r.a.createElement(jt,{as:Ye,path:"verified/:token",pageVariants:t,pageTransition:a}),r.a.createElement(st,{default:!0}))}))),e?r.a.createElement(_e,null):null)}}]),a}(r.a.Component),_t=Object(l.b)((function(e){return{isAuthenticated:e.user.isAuthenticated}}),(function(e){return{checkUserLoggedIn:function(){return e(function(){var e=Object(x.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P.a.get("/api/login").then((function(e){e.data.logged_in&&(console.log(e.data),t(U(e.data.Username)))})).catch((function(e){t({type:h.NO_USER})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(Mt),It=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function xt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{store:w},r.a.createElement(_t,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");It?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):xt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):xt(t,e)}))}}()},58:function(e,t,a){},65:function(e,t,a){e.exports=a.p+"static/media/unlock.d9cba283.svg"},66:function(e,t,a){e.exports=a.p+"static/media/lock.2853607d.svg"},70:function(e,t,a){e.exports=a(129)},80:function(e,t,a){}},[[70,1,2]]]);
//# sourceMappingURL=main.f7c39fe0.chunk.js.map